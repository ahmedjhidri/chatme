<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Engineering Toolkit</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 900px;
    margin: 20px auto;
    padding: 0 15px;
    background: #f5f7fa;
    color: #222;
  }
  h1, h2 {
    color: #003366;
  }
  section {
    background: #fff;
    margin-bottom: 30px;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgb(0 0 0 / 0.1);
  }
  label {
    display: block;
    margin-top: 15px;
    font-weight: bold;
  }
  input[type=number], input[type=text] {
    width: 100%;
    padding: 7px;
    margin-top: 5px;
    border-radius: 4px;
    border: 1px solid #bbb;
    box-sizing: border-box;
  }
  button {
    margin-top: 20px;
    background-color: #003366;
    color: white;
    border: none;
    padding: 10px 18px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover {
    background-color: #0055aa;
  }
  #materialSearch {
    width: 100%;
    padding: 7px;
    margin-top: 5px;
    margin-bottom: 15px;
    border-radius: 4px;
    border: 1px solid #bbb;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }
  th {
    background-color: #003366;
    color: white;
  }
  #beamResult, #ohmResult, #resistorResult, #materialResult {
    margin-top: 15px;
    font-weight: bold;
    color: #0055aa;
  }
</style>
</head>
<body>

<h1>Engineering Toolkit</h1>

<!-- Beam Deflection -->
<section id="beam-deflection">
  <h2>Beam Deflection Calculator (Simply Supported Beam)</h2>
  <form id="beamForm">
    <label for="loadP">Load P (Newtons, N):</label>
    <input type="number" id="loadP" required step="any" placeholder="e.g. 1000" />

    <label for="lengthL">Length L (meters, m):</label>
    <input type="number" id="lengthL" required step="any" placeholder="e.g. 2" />

    <label for="widthW">Beam Width (meters, m):</label>
    <input type="number" id="widthW" required step="any" placeholder="e.g. 0.1" />

    <label for="heightH">Beam Height (meters, m):</label>
    <input type="number" id="heightH" required step="any" placeholder="e.g. 0.2" />

    <label for="youngE">Young's Modulus E (GPa):</label>
    <input type="number" id="youngE" required step="any" placeholder="e.g. 210" />

    <button type="submit">Calculate Deflection</button>
  </form>
  <div id="beamResult"></div>
</section>

<!-- Electrical Calculators -->
<section id="electrical">
  <h2>Electrical Calculators</h2>

  <!-- Ohm's Law -->
  <h3>Ohm's Law Calculator</h3>
  <form id="ohmForm">
    <label for="voltageV">Voltage V (Volts, V):</label>
    <input type="number" id="voltageV" step="any" placeholder="Enter voltage or leave blank" />

    <label for="currentI">Current I (Amps, A):</label>
    <input type="number" id="currentI" step="any" placeholder="Enter current or leave blank" />

    <label for="resistanceR">Resistance R (Ohms, Ω):</label>
    <input type="number" id="resistanceR" step="any" placeholder="Enter resistance or leave blank" />

    <button type="submit">Calculate Missing Value</button>
  </form>
  <div id="ohmResult"></div>

  <!-- Resistor Combinations -->
  <h3>Resistors in Series/Parallel</h3>
  <form id="resistorForm">
    <label for="resistorsList">Enter resistor values (Ohms) separated by commas:</label>
    <input type="text" id="resistorsList" placeholder="e.g. 10, 20, 30" required />

    <button type="submit">Calculate Total Resistance</button>
  </form>
  <div id="resistorResult"></div>
</section>

<!-- Material Properties Lookup -->
<section id="material-properties">
  <h2>Material Properties Lookup</h2>
  <input type="text" id="materialSearch" placeholder="Search material by name..." />
  <table id="materialTable">
    <thead>
      <tr>
        <th>Material</th>
        <th>Density (kg/m³)</th>
        <th>Young's Modulus (GPa)</th>
        <th>Yield Strength (MPa)</th>
      </tr>
    </thead>
    <tbody id="materialBody">
      <!-- Filled by JS -->
    </tbody>
  </table>
  <div id="materialResult"></div>
</section>

<script>
  // Beam Deflection Calculator
  document.getElementById('beamForm').addEventListener('submit', e => {
    e.preventDefault();

    const P = parseFloat(document.getElementById('loadP').value);
    const L = parseFloat(document.getElementById('lengthL').value);
    const W = parseFloat(document.getElementById('widthW').value);
    const H = parseFloat(document.getElementById('heightH').value);
    const E_GPa = parseFloat(document.getElementById('youngE').value);

    if (P <= 0 || L <= 0 || W <= 0 || H <= 0 || E_GPa <= 0) {
      document.getElementById('beamResult').textContent = 'Please enter positive values for all fields.';
      return;
    }

    const E = E_GPa * 1e9;
    const I = (W * Math.pow(H, 3)) / 12;
    const deltaMax = (P * Math.pow(L, 3)) / (48 * E * I);

    document.getElementById('beamResult').textContent = 
      `Maximum deflection δ_max = ${ (deltaMax * 1000).toFixed(3) } mm`;
  });

  // Electrical Ohm's Law Calculator
  document.getElementById('ohmForm').addEventListener('submit', e => {
    e.preventDefault();
    const V = parseFloat(document.getElementById('voltageV').value);
    const I = parseFloat(document.getElementById('currentI').value);
    const R = parseFloat(document.getElementById('resistanceR').value);

    let result = '';

    // Count how many inputs provided
    const inputs = [V, I, R].filter(v => !isNaN(v));
    if (inputs.length !== 2) {
      result = 'Please enter exactly two values to calculate the third.';
    } else {
      if (isNaN(V)) {
        // V = I * R
        if (I >= 0 && R >= 0) result = `Voltage V = ${ (I * R).toFixed(3) } V`;
        else result = 'Current and Resistance must be non-negative.';
      } else if (isNaN(I)) {
        // I = V / R
        if (R > 0) result = `Current I = ${ (V / R).toFixed(3) } A`;
        else result = 'Resistance must be positive.';
      } else if (isNaN(R)) {
        // R = V / I
        if (I !== 0) result = `Resistance R = ${ (V / I).toFixed(3) } Ω`;
        else result = 'Current cannot be zero.';
      }
    }
    document.getElementById('ohmResult').textContent = result;
  });

  // Resistors in Series/Parallel Calculator
  document.getElementById('resistorForm').addEventListener('submit', e => {
    e.preventDefault();
    const listStr = document.getElementById('resistorsList').value;
    if (!listStr) {
      document.getElementById('resistorResult').textContent = 'Please enter resistor values.';
      return;
    }
    const values = listStr.split(',').map(x => parseFloat(x.trim())).filter(x => !isNaN(x) && x > 0);
    if (values.length === 0) {
      document.getElementById('resistorResult').textContent = 'Enter valid positive resistor values.';
      return;
    }

    // Series: sum all resistors
    const seriesTotal = values.reduce((a,b) => a + b, 0);

    // Parallel: 1 / (sum of reciprocals)
    const parallelTotal = 1 / values.reduce((a,b) => a + 1/b, 0);

    document.getElementById('resistorResult').textContent = 
      `Total resistance in series: ${seriesTotal.toFixed(3)} Ω\n` +
      `Total resistance in parallel: ${parallelTotal.toFixed(3)} Ω`;
  });

  // Material Properties Lookup
  const materials = [
    {name: "Steel (A36)", density: 7850, young: 200, yield: 250},
    {name: "Aluminum 6061", density: 2700, young: 69, yield: 275},
    {name: "Concrete", density: 2400, young: 30, yield: 40},
    {name: "Copper", density: 8960, young: 110, yield: 70},
    {name: "Titanium", density: 4500, young: 116, yield: 900},
    {name: "Brass", density: 8530, young: 100, yield: 200}
  ];

  function renderMaterials(filter = '') {
    const tbody = document.getElementById('materialBody');
    tbody.innerHTML = '';
    const filtered = materials.filter(m => m.name.toLowerCase().includes(filter.toLowerCase()));
    if (filtered.length === 0) {
      tbody.innerHTML = '<tr><td colspan="4">No materials found.</td></tr>';
      return;
    }
    for (const mat of filtered) {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${mat.name}</td>
        <td>${mat.density}</td>
        <td>${mat.young}</td>
        <td>${mat.yield}</td>
      `;
      tbody.appendChild(tr);
    }
  }

  document.getElementById('materialSearch').addEventListener('input', e => {
    renderMaterials(e.target.value);
  });

  // Initial render
  renderMaterials();
</script>

</body>
</html>
